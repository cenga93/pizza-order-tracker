!function r(o,a,c){function i(n,e){if(!a[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(d)return d(n,!0);throw new Error("Cannot find module '"+n+"'")}t=a[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return i(t||e)},t,t.exports,r,o,a,c)}return a[n].exports}for(var d="function"==typeof require&&require,e=0;e<c.length;e++)i(c[e]);return i}({1:[function(e,t,n){t.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},{}],2:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e},t.exports.default=t.exports,t.exports.__esModule=!0},{}],3:[function(e,t,n){t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.default=t.exports,t.exports.__esModule=!0},{}],4:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault"),o=r(e("@babel/runtime/helpers/classCallCheck")),a=r(e("@babel/runtime/helpers/createClass")),c=document.querySelectorAll(".products__button"),i=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"updateCart",value:function(e){$.post({traditional:!0,url:"/cart",contentType:"application/json",data:e,dataType:"json",error:function(e){throw new Error(e)}}).then(function(e){var t=document.querySelector(".nav-counter");null==t?((t=document.createElement("span")).classList.add("nav-counter"),t.classList.add("mr-1"),t.classList.add("text-light"),t.innerText=e.data.totalQty,document.querySelectorAll(".navbar__item--cart a")[0].prepend(t)):t.innerText=e.data.totalQty,alert("Add item to cart")}).catch(function(e){throw new Error(e)})}}]),e}(),d=function(){function e(){(0,o.default)(this,e)}return(0,a.default)(e,[{key:"adminOrder",value:function(){var t,n=this,r=document.querySelector("#adminOrderTableBody");$.ajax({type:"GET",url:"/admin/orders",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){t=n.generateMarkUp(e),r.innerHTML=t}).catch(function(e){console.log("ERROR",e.message)})}},{key:"generateMarkUp",value:function(e){return e.map(function(e){var t=e.address,n=e.status,r=e._id,o=e.customerId,a=o.firstname,o=o.lastname,e=e.phone;return'\n          <tr> \n            <td class="border px-3">'.concat(r,'</td>\n            <td class="border px-3">').concat(a," ").concat(o,'</td>\n            <td class="border px-3">').concat(t,'</td>\n            <td class="border px-3">   \n              <form action="/admin/orders/status" method="POST" > \n                <input type="hidden" name="orderId" value=').concat(r,' />\n                <select class="form-select" onchange="this.form.submit()" name="status">\n                  <option selected disabled>select one</option>  \n                  <option value="order_placed" ').concat("order_placed"===n?"selected":"",'>Placed</option>\n                  <option value="confirmed" ').concat("confirmed"===n?"selected":"",'>Confirmed</option> \n                  <option value="prepared" ').concat("prepared"===n?"selected":"",'>Prepared</option>\n                  <option value="delivered" ').concat("delivered"===n?"selected":"",'>Delivered</option>\n                  <option value="completed" ').concat("completed"===n?"selected":"",'>Completed</option>\n                </select>\n              </form>\n            </td>  \n            <td class="border px-3">').concat(e,'</td>\n            <td class="border px-3">placeno || nije placeno</td>\n          </tr>')}).join("")}}]),e}();window.addEventListener("DOMContentLoaded",function(){var t=new i,e=new d;window.addEventListener("click",function(){localStorage.setItem("currentPage",window.location.href)}),c.forEach(function(e){e.addEventListener("click",function(){t.updateCart(e.dataset.pizza)})}),"/admin/orders"===window.location.pathname&&e.adminOrder()})},{"@babel/runtime/helpers/classCallCheck":1,"@babel/runtime/helpers/createClass":2,"@babel/runtime/helpers/interopRequireDefault":3}]},{},[4]);
//# sourceMappingURL=app.min.js.map
